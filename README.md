# Deep Trader - AI åŠ å¯†è´§å¸äº¤æ˜“ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„å…¨è‡ªåŠ¨åŠ å¯†è´§å¸åˆçº¦äº¤æ˜“ç³»ç»Ÿï¼Œæ”¯æŒå¤š AI æ¨¡å‹ã€å¤šç­–ç•¥åˆ‡æ¢ã€å®ç›˜/æ¨¡æ‹Ÿ/å›æµ‹ä¸‰ç§æ¨¡å¼ï¼Œé…å¤‡ Web ç›‘æ§ç•Œé¢å’Œå¤šæ¸ é“é€šçŸ¥ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– AI å†³ç­–å¼•æ“
- **å¤šæ¨¡å‹æ”¯æŒ**ï¼šåŒæ—¶é…ç½®å¤šä¸ª AI æ¨¡å‹ï¼ˆDeepSeekã€GPTã€Claude ç­‰ï¼‰
  - `primary` æ¨¡å¼ï¼šä½¿ç”¨ä¸»æ¨¡å‹å†³ç­–
  - `vote` æ¨¡å¼ï¼šå¤šæ¨¡å‹å¹¶è¡ŒæŠ•ç¥¨ï¼ŒæŒ‰æƒé‡åˆå¹¶
  - `compare` æ¨¡å¼ï¼šå¯¹æ¯”æ¨¡å‹è¾“å‡ºï¼ˆä¸æ‰§è¡Œäº¤æ˜“ï¼‰
- **æ€ç»´é“¾è¾“å‡º**ï¼šå®Œæ•´å±•ç¤º AI åˆ†æè¿‡ç¨‹å’Œå†³ç­–é€»è¾‘
- **å¤šå‘¨æœŸåˆ†æ**ï¼šç»“åˆ 3mã€5mã€1hã€4h å¤šæ—¶é—´æ¡†æ¶çš„æŠ€æœ¯æŒ‡æ ‡

### ğŸ“Š ç­–ç•¥ç³»ç»Ÿ
å†…ç½®å››ç§ç­–ç•¥æ¨¡æ¿ï¼Œå¯åŠ¨æ€åˆ‡æ¢ï¼š

| ç­–ç•¥ | æ æ† | å•ç¬”é£é™© | RR è¦æ±‚ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|---------|----------|
| `balanced` | 15x | 25% | â‰¥ 2.0 | ä¸­ç­‰é£é™©ï¼Œæ—¥å¸¸äº¤æ˜“ |
| `aggressive` | 30x | 50% | â‰¥ 1.8 | é«˜é£é™©é«˜æ”¶ç›Šï¼Œè¶‹åŠ¿è¡Œæƒ… |
| `conservative` | 5x | 10% | â‰¥ 2.5 | ä½é£é™©ç¨³å¥ï¼Œéœ‡è¡è¡Œæƒ… |
| `scalping` | 20x | 5% | â‰¥ 1.5 | è¶…çŸ­çº¿å¿«è¿›å¿«å‡º |

### ğŸ¯ æ™ºèƒ½é£æ§
- å•ç¬”/å…¨å±€é£é™©ä¸Šé™è‡ªåŠ¨ç¼©ä»“
- åŠ¨æ€æ­¢æŸè·ç¦»ä¿æŠ¤ï¼ˆåŸºäº ATRï¼‰
- é£é™©å›æŠ¥æ¯”æ ¡éªŒ
- ä¿è¯é‡‘ä½¿ç”¨ç‡é™åˆ¶
- å›æ’¤ç†”æ–­æœºåˆ¶ï¼ˆDrawdown Kill Switchï¼‰

### ğŸ§ª ä¸‰ç§è¿è¡Œæ¨¡å¼
- **æ¨¡æ‹Ÿæ¨¡å¼**ï¼šè™šæ‹Ÿèµ„é‡‘ + çœŸå®è¡Œæƒ…ï¼Œé›¶é£é™©æµ‹è¯•
- **å®ç›˜æ¨¡å¼**ï¼šè¿æ¥å¸å®‰åˆçº¦ï¼ŒçœŸå®äº¤æ˜“
- **å›æµ‹æ¨¡å¼**ï¼šå†å²æ•°æ®å›æµ‹ï¼ŒéªŒè¯ç­–ç•¥

### ğŸ“± é€šçŸ¥ç³»ç»Ÿ
æ”¯æŒå¤šæ¸ é“å®æ—¶æ¨é€ï¼š
- **Telegram**ï¼šBot æ¶ˆæ¯é€šçŸ¥
- **Discord**ï¼šWebhook æ¶ˆæ¯
- **Email**ï¼šSMTP é‚®ä»¶é€šçŸ¥

é€šçŸ¥äº‹ä»¶ï¼šå¼€ä»“ã€å¹³ä»“ã€æ­¢æŸ/æ­¢ç›ˆè§¦å‘ã€é£æ§æ‹’ç»ã€é«˜å›æ’¤è­¦å‘Šç­‰

### ğŸ’¾ æ•°æ®å­˜å‚¨ä¸å¯¼å‡º
- **è‡ªåŠ¨å­˜å‚¨**ï¼šå‡€å€¼å¿«ç…§ã€äº¤æ˜“è®°å½•ã€AI å†³ç­–å†å²
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒ CSV/JSON æ ¼å¼å¯¼å‡º
- **å®Œæ•´æŠ¥å‘Š**ï¼šä¸€é”®ç”ŸæˆåŒ…å«ç»Ÿè®¡åˆ†æçš„å®Œæ•´æŠ¥å‘Š

### ğŸ“ˆ Web ç›‘æ§ç•Œé¢
- è´¦æˆ·å‡€å€¼å’Œç›ˆäºæ›²çº¿
- å½“å‰æŒä»“è¯¦æƒ…
- AI æ€ç»´é“¾å®æ—¶å±•ç¤º
- ç­–ç•¥åˆ‡æ¢æ§åˆ¶
- å†å²äº¤æ˜“è®°å½•
- å¾ªç¯å‘¨æœŸåŠ¨æ€è°ƒæ•´

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

- **è¯­è¨€**ï¼šGo 1.22+
- **äº¤æ˜“æ‰€**ï¼šBinance Futures
- **AI æ¥å£**ï¼šOpenAI API å…¼å®¹ï¼ˆDeepSeekã€GPTã€Claude ç­‰ï¼‰
- **Web æœåŠ¡**ï¼šå†…ç½® HTTP æœåŠ¡å™¨ï¼ˆç«¯å£ 8080ï¼‰
- **å­˜å‚¨**ï¼šJSON æ–‡ä»¶æŒä¹…åŒ–
- **éƒ¨ç½²**ï¼šæ”¯æŒ Docker å®¹å™¨åŒ–

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šæºç ç¼–è¯‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourname/deep_trader.git
cd deep_trader

# ç¼–è¯‘
go build -o deep_trader
```

### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t deep_trader .

# è¿è¡Œå®¹å™¨
docker-compose up -d
```

## âš™ï¸ é…ç½®

### 1. åˆ›å»ºé…ç½®æ–‡ä»¶

```bash
cp config.local.example.json config.local.json
```

### 2. åŸºç¡€é…ç½®

```json
{
  "ai_api_key": "your_ai_api_key",
  "ai_api_url": "https://api.deepseek.com/v1/chat/completions",
  "ai_model": "deepseek-reasoner",
  "loop_interval_seconds": 120,
  "trading_symbols": ["BTCUSDT", "ETHUSDT", "SOLUSDT"]
}
```

### 3. å¤š AI æ¨¡å‹é…ç½®ï¼ˆå¯é€‰ï¼‰

```json
{
  "ai_models": [
    {
      "name": "deepseek",
      "api_key": "sk-xxx",
      "api_url": "https://api.deepseek.com/v1/chat/completions",
      "model": "deepseek-reasoner",
      "weight": 1.0,
      "enabled": true
    },
    {
      "name": "gpt4",
      "api_key": "sk-xxx",
      "api_url": "https://api.openai.com/v1/chat/completions",
      "model": "gpt-4",
      "weight": 0.8,
      "enabled": false
    }
  ],
  "ai_mode": "primary"
}
```

### 4. å®ç›˜é…ç½®

```json
{
  "binance_api_key": "your_binance_api_key",
  "binance_secret_key": "your_binance_secret_key",
  "binance_proxy_url": "http://127.0.0.1:7890"
}
```

### 5. é€šçŸ¥é…ç½®ï¼ˆå¯é€‰ï¼‰

```json
{
  "notifications": {
    "telegram": {
      "enabled": true,
      "bot_token": "123456:ABC-xxx",
      "chat_id": "123456789"
    },
    "discord": {
      "enabled": false,
      "webhook_url": "https://discord.com/api/webhooks/xxx"
    },
    "email": {
      "enabled": false,
      "smtp_host": "smtp.gmail.com",
      "smtp_port": 587,
      "username": "your@email.com",
      "password": "app_password",
      "to": ["alert@email.com"]
    }
  }
}
```

### é…ç½®é¡¹è¯´æ˜

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `ai_api_key` | AI API å¯†é’¥ | å¿…å¡« |
| `ai_api_url` | AI API åœ°å€ | DeepSeek |
| `ai_model` | æ¨¡å‹åç§° | deepseek-chat |
| `loop_interval_seconds` | å†³ç­–å¾ªç¯å‘¨æœŸï¼ˆç§’ï¼‰ | 120 |
| `trading_symbols` | äº¤æ˜“å¸ç§åˆ—è¡¨ | 5 ä¸ªä¸»æµå¸ |
| `binance_api_key` | å¸å®‰ API Key | å®ç›˜å¿…å¡« |
| `binance_secret_key` | å¸å®‰ Secret Key | å®ç›˜å¿…å¡« |

## ğŸ® ä½¿ç”¨æŒ‡å—

### å¯åŠ¨ç³»ç»Ÿ

```bash
# æ¨¡æ‹Ÿæ¨¡å¼ï¼ˆä¸é…ç½®å¸å®‰ APIï¼‰
./deep_trader

# å®ç›˜æ¨¡å¼ï¼ˆé…ç½®å¸å®‰ API åï¼‰
./deep_trader
```

### è®¿é—® Web ç›‘æ§

æµè§ˆå™¨æ‰“å¼€ï¼šhttp://localhost:8080

### å‘½ä»¤è¡Œå·¥å…·

```bash
# è®¾ç½®æ æ†
./deep_trader set-lev BTCUSDT 20

# å¯¼å‡ºæ•°æ®
./deep_trader export --format csv --output ./exports/
```

### åœæ­¢ç³»ç»Ÿ

æŒ‰ `Ctrl+C` ä¼˜é›…é€€å‡º

## ğŸ“ é¡¹ç›®ç»“æ„

```
deep_trader/
â”œâ”€â”€ main.go                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config.go               # é…ç½®åŠ è½½
â”œâ”€â”€ types.go                # æ•°æ®ç»“æ„
â”œâ”€â”€ brain.go                # AI å†³ç­–å¼•æ“
â”œâ”€â”€ ai_manager.go           # å¤š AI æ¨¡å‹ç®¡ç†
â”œâ”€â”€ risk.go                 # é£æ§éªŒè¯
â”œâ”€â”€ strategy.go             # ç­–ç•¥ç®¡ç†
â”œâ”€â”€ exchange_interface.go   # äº¤æ˜“æ‰€æ¥å£
â”œâ”€â”€ binance_exchange.go     # å¸å®‰å®ç›˜
â”œâ”€â”€ simulated_exchange.go   # æ¨¡æ‹Ÿäº¤æ˜“æ‰€
â”œâ”€â”€ backtest_exchange.go    # å›æµ‹å¼•æ“
â”œâ”€â”€ backtest_runner.go      # å›æµ‹è¿è¡Œå™¨
â”œâ”€â”€ indicators.go           # æŠ€æœ¯æŒ‡æ ‡
â”œâ”€â”€ storage.go              # æ•°æ®å­˜å‚¨
â”œâ”€â”€ export.go               # æ•°æ®å¯¼å‡º
â”œâ”€â”€ notifier.go             # é€šçŸ¥ç³»ç»Ÿ
â”œâ”€â”€ web_server.go           # Web æœåŠ¡
â”œâ”€â”€ strategies/             # ç­–ç•¥ Prompt æ¨¡æ¿
â”‚   â”œâ”€â”€ balanced.md
â”‚   â”œâ”€â”€ aggressive.md
â”‚   â”œâ”€â”€ conservative.md
â”‚   â””â”€â”€ scalping.md
â”œâ”€â”€ web/
â”‚   â””â”€â”€ index.html          # ç›‘æ§ç•Œé¢
â”œâ”€â”€ data/                   # æ•°æ®å­˜å‚¨ç›®å½•
â”œâ”€â”€ exports/                # å¯¼å‡ºæ–‡ä»¶ç›®å½•
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ CHANGELOG.md            # æ›´æ–°æ—¥å¿—
```

## ğŸ§  AI å†³ç­–æœºåˆ¶

### å†³ç­–ç±»å‹

| Action | è¯´æ˜ |
|--------|------|
| `open_long` / `open_short` | å¼€å¤š / å¼€ç©º |
| `close_long` / `close_short` | å¹³å¤š / å¹³ç©º |
| `partial_close` | éƒ¨åˆ†å¹³ä»“ |
| `update_stop_loss` | è°ƒæ•´æ­¢æŸ |
| `update_take_profit` | è°ƒæ•´æ­¢ç›ˆ |
| `hold` / `wait` | æŒä»“è§‚æœ› / ç©ºä»“è§‚æœ› |

### é£æ§çº¦æŸ

- é£é™©å›æŠ¥æ¯” â‰¥ ç­–ç•¥è®¾å®šå€¼ï¼ˆé»˜è®¤ 2.0ï¼‰
- å•ç¬”é£é™©ä¸è¶…è¿‡ç­–ç•¥ä¸Šé™
- å…¨å±€é£é™©ä¸è¶…è¿‡ç­–ç•¥ä¸Šé™
- æ­¢æŸè·ç¦» â‰¥ max(0.2%, 0.4Ã—ATR)
- å¼€ä»“é‡‘é¢ â‰¥ 12 USDT

## âš ï¸ é£é™©æç¤º

1. **é«˜é£é™©**ï¼šåŠ å¯†è´§å¸æ æ†äº¤æ˜“å¯èƒ½æŸå¤±å…¨éƒ¨æœ¬é‡‘
2. **AI éå®Œç¾**ï¼šéœ€è¦äººå·¥ç›‘ç£ï¼Œä¸èƒ½å®Œå…¨ä¾èµ–
3. **ç½‘ç»œé£é™©**ï¼šå¯èƒ½å‡ºç°å»¶è¿Ÿã€é”™è¯¯ã€ä¸­æ–­
4. **ä»…ä¾›å­¦ä¹ **ï¼šä¸æ„æˆæŠ•èµ„å»ºè®®

## ğŸ“ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•åˆ‡æ¢ç­–ç•¥ï¼Ÿ**
A: é€šè¿‡ Web ç•Œé¢çš„ç­–ç•¥é€‰æ‹©å™¨ï¼Œæˆ–è°ƒç”¨ API `/api/strategy/set?name=aggressive`

**Q: å¦‚ä½•æŸ¥çœ‹ AI å†³ç­–å†å²ï¼Ÿ**
A: Web ç•Œé¢å¯æŸ¥çœ‹æœ€è¿‘å†³ç­–ï¼Œæˆ–å¯¼å‡º JSON æŸ¥çœ‹å®Œæ•´å†å²

**Q: å¤š AI æŠ•ç¥¨æ¨¡å¼å¦‚ä½•å·¥ä½œï¼Ÿ**
A: ç³»ç»Ÿå¹¶è¡Œè°ƒç”¨æ‰€æœ‰å¯ç”¨çš„æ¨¡å‹ï¼ŒæŒ‰æƒé‡åŠ æƒæŠ•ç¥¨ï¼Œå¤šæ•°å†³å®šæœ€ç»ˆå†³ç­–

**Q: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰ç­–ç•¥ï¼Ÿ**
A: åœ¨ `strategies/` ç›®å½•åˆ›å»ºæ–°çš„ `.md` prompt æ–‡ä»¶ï¼Œå¹¶åœ¨ä»£ç ä¸­æ³¨å†Œ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

**å…è´£å£°æ˜**ï¼šæœ¬è½¯ä»¶æŒ‰"åŸæ ·"æä¾›ï¼Œä¸æä¾›ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚ä½¿ç”¨æœ¬è½¯ä»¶è¿›è¡Œäº¤æ˜“çš„ä»»ä½•æŸå¤±ï¼Œä½œè€…ä¸æ‰¿æ‹…è´£ä»»ã€‚
